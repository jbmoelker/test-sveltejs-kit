{"version":3,"file":"index.js","sources":["../src/files/index.js"],"sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\n\nexport function mkdirp(dir) {\n\ttry {\n\t\tfs.mkdirSync(dir, { recursive: true });\n\t} catch (e) {\n\t\tif (e.code === 'EEXIST') return;\n\t\tthrow e;\n\t}\n}\n\nexport function copy(\n\tfrom,\n\tto,\n\tfilter = () => true\n) {\n\tif (!filter(path.basename(from))) return [];\n\n\tconst files = [];\n\tconst stats = fs.statSync(from);\n\n\tif (stats.isDirectory()) {\n\t\tfs.readdirSync(from).forEach((file) => {\n\t\t\tfiles.push(...copy(path.join(from, file), path.join(to, file)));\n\t\t});\n\t} else {\n\t\tmkdirp(path.dirname(to));\n\t\tfs.copyFileSync(from, to);\n\t\tfiles.push(to);\n\t}\n\n\treturn files;\n}\n"],"names":["fs.mkdirSync","path.basename","fs.statSync","fs.readdirSync","path.join","path.dirname","fs.copyFileSync"],"mappings":";;;;;;;AAGO,SAAS,MAAM,CAAC,GAAG,EAAE;AAC5B,CAAC,IAAI;AACL,EAAEA,YAAY,CAAC,GAAG,EAAE,EAAE,SAAS,EAAE,IAAI,EAAE,CAAC,CAAC;AACzC,EAAE,CAAC,OAAO,CAAC,EAAE;AACb,EAAE,IAAI,CAAC,CAAC,IAAI,KAAK,QAAQ,EAAE,OAAO;AAClC,EAAE,MAAM,CAAC,CAAC;AACV,EAAE;AACF,CAAC;AACD;AACO,SAAS,IAAI;AACpB,CAAC,IAAI;AACL,CAAC,EAAE;AACH,CAAC,MAAM,GAAG,MAAM,IAAI;AACpB,EAAE;AACF,CAAC,IAAI,CAAC,MAAM,CAACC,aAAa,CAAC,IAAI,CAAC,CAAC,EAAE,OAAO,EAAE,CAAC;AAC7C;AACA,CAAC,MAAM,KAAK,GAAG,EAAE,CAAC;AAClB,CAAC,MAAM,KAAK,GAAGC,WAAW,CAAC,IAAI,CAAC,CAAC;AACjC;AACA,CAAC,IAAI,KAAK,CAAC,WAAW,EAAE,EAAE;AAC1B,EAAEC,cAAc,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,KAAK;AACzC,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,IAAI,CAACC,SAAS,CAAC,IAAI,EAAE,IAAI,CAAC,EAAEA,SAAS,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC;AACnE,GAAG,CAAC,CAAC;AACL,EAAE,MAAM;AACR,EAAE,MAAM,CAACC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;AAC3B,EAAEC,eAAe,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;AAC5B,EAAE,KAAK,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACjB,EAAE;AACF;AACA,CAAC,OAAO,KAAK,CAAC;AACd;;;;;"}