'use strict';

var _package = require('./package.js');
var path = require('path');
var fs = require('fs');

function mkdirp(dir) {
	try {
		fs.mkdirSync(dir, { recursive: true });
	} catch (e) {
		if (e.code === 'EEXIST') return;
		throw e;
	}
}

function copy(from, to, filter = () => true) {
	if (!filter(path.basename(from))) return [];

	const files = [];
	const stats = fs.statSync(from);

	if (stats.isDirectory()) {
		fs.readdirSync(from).forEach((file) => {
			files.push(...copy(path.join(from, file), path.join(to, file)));
		});
	} else {
		mkdirp(path.dirname(to));
		fs.copyFileSync(from, to);
		files.push(to);
	}

	return files;
}

function copy_assets() {
	copy(path.resolve(__dirname, '../assets'), '.svelte/assets');
}

function logger() {
	const log = (msg) => console.log(msg.replace(/^/gm, '  '));
	log.success = (msg) => log(_package.$.green(`âœ” ${msg}`));
	log.error = (msg) => log(_package.$.bold().red(msg));
	log.warn = (msg) => log(_package.$.bold().yellow(msg));
	log.minor = (msg) => log(_package.$.grey(msg));
	log.info = log;

	return log;
}

exports.copy = copy;
exports.copy_assets = copy_assets;
exports.logger = logger;
exports.mkdirp = mkdirp;
//# sourceMappingURL=utils.js.map
